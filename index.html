<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Worker Stitch Calculator</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 30px; background: #f9f9f9; }
    h2 { color: #333; }
    form { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); width: 420px; }
    table { border-collapse: collapse; width: 100%; margin-top: 15px; background: #fff; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background: #eee; }
    .result { background: #fff; padding: 15px; border-radius: 6px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); width: 420px; margin-top: 20px; }
    .row { display: flex; justify-content: space-between; margin: 6px 0; }
    button { margin-top: 15px; padding: 10px 15px; background: #007bff; color: #fff; border: none; border-radius: 4px; cursor: pointer; }
    button:hover { background: #0056b3; }
    label { font-weight: bold; margin-top: 10px; display: block; }
    select, input {  padding: 8px; margin-top: 5px; border: 1px solid #ccc; border-radius: 4px; }
  </style>
</head>
<body>

  <h2>Stitch Entry (Demo)</h2>
  <form id="stitchForm">
    <label>Employee Name</label>
    <select id="empName" required style="width:100%">
      <option value="">-- Select Employee --</option>
      <option value="Ali Khan">Ali Khan</option>
      <option value="Uzair Ahmed">Uzair Ahmed</option>
      <option value="Sara Bibi">Sara Bibi</option>
      <option value="Bilal Sheikh">Bilal Sheikh</option>
    </select>

    <label>Date</label>
    <input type="date" id="workDate" style="width:96%" required>

    <table>
      <tr><th>Row</th><th>Stitches</th></tr>
      <tr><td>1</td><td><input type="number" id="row1" value="0"></td></tr>
      <tr><td>2</td><td><input type="number" id="row2" value="0"></td></tr>
      <tr><td>3</td><td><input type="number" id="row3" value="0"></td></tr>
      <tr><td>4</td><td><input type="number" id="row4" value="0"></td></tr>
    </table>

    <label><input type="checkbox" id="noHelper"> No Helper (+100 Rs)</label>
    <button type="submit">Calculate</button>
  </form>

  <div class="result" id="resultBox" style="display:none;">
    <h3>Salary Slip</h3>
    <div class="row"><div><b>Employee Name:</b></div><div id="slipEmpName"></div></div>
    <div class="row"><div><b>Date:</b></div><div id="slipDate"></div></div>
    <div class="row"><div><b>Total Stitches:</b></div><div id="totalStitches"></div></div>
    <div class="row"><div><b>Base Amount:</b></div><div id="baseAmount"></div></div>
    <div class="row"><div><b>Bonus:</b></div><div id="bonusAmount"></div></div>
    <div class="row" id="helperRow" style="display:none;">
      <div><b>No Helper Bonus:</b></div><div id="helperBonus"></div>
    </div>
    <hr>
    <div class="row"><div><b>Net Pay:</b></div><div id="netPay"></div></div>
  </div>
  <button class="btn" onclick="goToBill()">Go to Salary Page</button>
  

  <script>
    document.getElementById('stitchForm').addEventListener('submit', function(e) {
      e.preventDefault();

      // Rules
      const RATE_PER_100K = 700;
      const BONUS_AMOUNT = 100;

      // Get values
      const empName = document.getElementById('empName').value;
      const workDate = document.getElementById('workDate').value;

      const s1 = parseInt(document.getElementById('row1').value) || 0;
      const s2 = parseInt(document.getElementById('row2').value) || 0;
      const s3 = parseInt(document.getElementById('row3').value) || 0;
      const s4 = parseInt(document.getElementById('row4').value) || 0;

      const total = s1 + s2 + s3 + s4;

      // Base pay (integer blocks of 100k)
      const blocks = Math.floor(total / 100000);
      const basePay = blocks * RATE_PER_100K;

      // Bonus fixed Rs 100 if total >= 300k
      const bonus = total >= 300000 ? BONUS_AMOUNT : 0;

      // No Helper extra Rs 100
      const noHelperChecked = document.getElementById('noHelper').checked;
      const helperExtra = noHelperChecked ? 100 : 0;

      const netPay = basePay + bonus + helperExtra;

      // Fill slip
      document.getElementById('slipEmpName').textContent = empName;
      document.getElementById('slipDate').textContent = workDate;
      document.getElementById('totalStitches').textContent = total.toLocaleString();
      document.getElementById('baseAmount').textContent = "Rs " + basePay;
      document.getElementById('bonusAmount').textContent = "Rs " + bonus;

      if (noHelperChecked) {
        document.getElementById('helperRow').style.display = 'flex';
        document.getElementById('helperBonus').textContent = "Rs " + helperExtra;
      } else {
        document.getElementById('helperRow').style.display = 'none';
      }

      document.getElementById('netPay').textContent = "Rs " + netPay;
      document.getElementById('resultBox').style.display = 'block';
    });
    function goToBill() {
      // yahan apna employee page ka file path dalna hoga
      window.location.href = "MonthlyBill.html";  
    }
  </script>

</body>
</html>
